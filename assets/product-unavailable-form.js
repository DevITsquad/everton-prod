class ProductUnavailableForm extends HTMLElement{constructor(){super()}connectedCallback(){this.root=this.closest(`[data-product-id='${this.dataset.id}']`),this.form_value=this.querySelector(".product-unavailable--value"),"none"===this.style.display&&this.parentNode.setAttribute("data-empty",!0),this.displayListener()}displayListener(){this.root.on("variantUpdated",t=>{t=t.detail;this.style.display=t&&!t.available?"block":"none",this.parentNode.setAttribute("data-empty",!t||t.available),t&&(this.form_value.value=this.form_value.value.split(":")[0]+": "+t.name)})}}const productUnavailableFormEl=customElements.get("product-unavailable-root");productUnavailableFormEl||customElements.define("product-unavailable-root",ProductUnavailableForm);